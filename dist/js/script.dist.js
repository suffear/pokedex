const pokeRepo=function(){let t=[],a=$("#modalContainer");function e(){$("body > p.loadMsg").remove()}async function o(t){try{let a=await fetch(t);return await a.json()}catch(e){throw console.error("Error fetching JSON:",e),e}}async function l(){$('<p class="loadMsg">Loading...</p>').appendTo("body");try{let a=await o("https://pokeapi.co/api/v2/pokemon/?limit=150"),l=await Promise.all(a.results.map(async t=>{let a=await o(t.url);return{id:a.id,name:a.name,detailsUrl:t.url,gifUrl:a.sprites.versions["generation-v"]["black-white"].animated.front_default}}));l.sort((t,a)=>t.id-a.id),l.forEach(i),e(),r(),await Promise.all(t.map(d))}catch(n){console.error("Error loading Pok\xe9mon list:",n),e()}}async function d(t){let a=t.detailsUrl;try{let e=await o(a);t.imgUrl=e.sprites.other["official-artwork"].front_default,t.height=e.height,t.weight=e.weight,t.types=e.types}catch(l){console.error("Error loading Pok\xe9mon details:",l)}}function i(a){"object"==typeof a?t.push(a):console.error("Invalid Pok\xe9mon data format:",a)}function r(e=""){let o=$("#pokeList");o.empty();let l=e?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):t;l.forEach(t=>{let e=$("<li>").addClass("list-group-item col-6 col-sm-4 col-md-3 col-lg-2 col-xl-1 ml-2"),l=$("<button>").addClass("btn btn-dark btn-outline-light my-4"),d=$("<img>").addClass("img-fluid").attr("src",t.gifUrl).attr("alt",t.name),i=t.name.charAt(0).toUpperCase()+t.name.slice(1),r=$("<div>").text(i);l.append(d),l.append(r),e.append(l),e.on("click",()=>{var e;let o,l,d,i,r,n,s,p,m;return e=t,a.empty(),o=$("<div>").addClass("modal fade").attr("tabindex","-1").attr("role","dialog"),l=$("<div>").addClass("modal-dialog").attr("role","document"),d=$("<div>").addClass("bg-dark text-light modal-content"),i=$("<button>").attr("type","button").addClass("btn btn-dark").attr("data-bs-dismiss","modal").html("&times;"),r=$("<div>").addClass("modal-header"),n=$("<h5>").addClass("modal-title").text(e.name+" (ID: "+e.id+")"),s=$("<div>").addClass("modal-body"),p=$("<p>").text("Height: "+e.height+" | Weight: "+e.weight),m=$("<img>").attr("src",e.imgUrl).attr("alt",e.name),void(r.append(n),r.append(i),s.append(p),s.append(m),d.append(r),d.append(s),l.append(d),o.append(l),a.append(o),o.modal("show"))}),o.append(e)})}let n=$("#searchBar");return n.on("input",()=>{let t=n.val();r(t)}),{add:i,loadList:l}}();pokeRepo.loadList();